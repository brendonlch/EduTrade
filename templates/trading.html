<!DOCTYPE HTML>
<html>
	<head>
		<title>EduTrade</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--===============================================================================================-->
		<!-- <link rel="icon" type="image/png" href="../images/icons/icon.png" /> -->
		<!-- ===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../vendor/bootstrap/css/bootstrap.min.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../fonts/font-awesome-4.7.0/css/font-awesome.min.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="assets/Linearicons-Free-v1.0.0/icon-font.min.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../vendor/animate/animate.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../vendor/css-hamburgers/hamburgers.min.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../vendor/animsition/css/animsition.min.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../vendor/select2/select2.min.css"> -->
		<!--===============================================================================================-->
		<!-- <link rel="stylesheet" type="text/css" href="../vendor/daterangepicker/daterangepicker.css"> -->
		<!--=============================================================================================== -->
		<style>
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
		}
		</style>
	</head>

	<body class="is-preload">

		<!-- Header -->
			<div id="header">

				<div class="top">

					<!-- Logo -->
						<div id="logo">
							<span class="image avatar48"><img src="images/earn.png" alt="" /></span>
							<h1 id="title">BrydonMemeLord</h1>
							<p>Balance &nbsp; $e-dollar</p>
						</div>

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="#top" id="top-link"><span class="icon solid fa-home">My dashboard</span></a></li>
								<li><a href="#portfolio" id="portfolio-link"><span class="icon solid fa-book-open">Portfolio</span></a></li>
								<li><a href="#market" id="about-link"><span class="icon solid fa-search-dollar">Market</span></a></li>
								<li><a href="#settings" id="contact-link"><span class="icon solid fa-user-circle">Account</span></a></li>
							</ul>
						</nav>

				</div>
			</div>

		<!-- Main -->
			<div id="main">

				<!-- Intro -->
					

				<!-- Portfolio -->
					<section id="portfolio" class="two">
						<div class="container">
							<h2>Stocks List</h2><br><br>
							<table id="stockstable">
								<tr>
									<th>Symbol</th>
									<th>Name</th>
									<th>Volume</th>
									<th>Current Price ($)</th>
								</tr>
								
							</table>
						</div>
					</section>

					<section class="three">
						<div class="container">
							<h2>Trading stocks</h2><br>
							<div class="container">
	
								<p>Here you can buy and sell your stocks. High risks, high rewards. Becareful what you trade for.</p>
	
								<form method="post" action="#">
										<div>
											<table id="individualstocktable">
												<tr>
													<th>Symbol</th>
													<th>Name</th>
													<th>Volume</th> 
													<th>Current Price ($)</th>
												</tr>
											</table>
											<input attribute type="number" name="symbol" placeholder="Volume" min="1" max="999" style="width: 120px; text-align: center; padding-bottom: 10px;"/>
										<br><br>
											<select id="transactiontype" name="transactiontype" style="width:400px; text-align: center; left: 220px;">
												<option value="default" selected>Select transaction type</option>
												<option value="buy">Buy</option>
												<option value="sell">Sell</option>
											</select>
										</div>
										<br>
										<div class="col-12">
											<input type="submit" value="Submit" />
										</div>
									
								</form>
	
							</div>
							</div>
						

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
			<script>
				// Helper function to display error message
				function showError(message) {
					// Display an error under the main container
					$('#main-container')
						.append("<label>"+message+"</label>");
				}
				// anonymous async function 
				// - using await requires the function that calls it to be async
				$("#addBookForm").submit(async (event) => {
					var isbnNumber = $('#isbn13').val();
					var price = $('#price').val();
					var title = $('#title').val();
					var availability = $('#availability').val();
				//Prevents screen from refreshing when submitting
					event.preventDefault();
					var serviceURL = "http://127.0.0.1:5000/book/" + isbnNumber;
					try {
						const response =
						 await fetch(
						   serviceURL, { method: 'POST', headers: {"Content-Type" : "application/json"},
						   body: JSON.stringify ({ title: title, price: price, availability: availability}) 
						});
		
						const data = await response.json();
						if (response.ok) {
							window.location.replace("c:/Users/Brydon Seah/Desktop/html5up-prologue/stocks.html");
						}
					}
					catch {
						console.log("ERROR");
					}
				});
			</script>


	</body>
</html>